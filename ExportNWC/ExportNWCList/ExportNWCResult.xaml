<UserControl x:Class="NewJeans.ExportNWCResult"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             mc:Ignorable="d">

    <Grid Background="#2C2F38" Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <!-- 리스트 영역 -->
            <RowDefinition Height="Auto"/>
            <!-- ProgressBar -->
            <RowDefinition Height="Auto"/>
            <!-- 경로 버튼 -->
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- 리스트 영역 -->
        <Grid Grid.Row="0" Grid.ColumnSpan="2" Margin="10">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <CheckBox x:Name="chkSelectAll"
                      Grid.Row="0"
                      Content="전체 선택"
                      Foreground="White"
                      Checked="chkSelectAll_Checked"
                      Unchecked="chkSelectAll_Unchecked"/>

            <ListBox x:Name="ViewList"
                     Grid.Row="1"
                     ItemsSource="{Binding View3DItems}"
                     Background="#3B3F48"
                     BorderBrush="#5A5D66"
                     BorderThickness="1"
                     Foreground="White"
                     Margin="0,5,0,0"
                     SelectionMode="Multiple"
                     SelectionChanged="ViewList_SelectionChanged"
                     VerticalAlignment="Stretch"
                     ScrollViewer.VerticalScrollBarVisibility="Auto">
                <ListBox.ItemTemplate>
                    <DataTemplate>
                        <CheckBox IsChecked="{Binding IsSelected, Mode=TwoWay}" Foreground="White">
                            <TextBlock Text="{Binding Name}" />
                        </CheckBox>
                    </DataTemplate>
                </ListBox.ItemTemplate>
            </ListBox>
        </Grid>

        <!-- 진행바 -->
        <ProgressBar x:Name="progressBar"
                     Grid.Row="1" Grid.ColumnSpan="2"
                     Height="20" 
                     Margin="10,10,10,10"
                     Foreground="#FFF99D5D"
                     Background="#3B3F48"
                     Minimum="0" Maximum="100"
                     Visibility="Collapsed"/>

        <!-- 저장 경로 버튼 -->
        <Button x:Name="btnBrowse"
                Content="저장 경로"
                Click="btnBrowse_Click"
                Width="80"
                Grid.Row="2" Grid.Column="0"
                Margin="10"
                Height="30"
                Background="#1E2A35"
                Foreground="White"/>

        <!-- 저장 경로 + 체크박스 묶는 StackPanel -->
        <StackPanel Orientation="Horizontal"
            Grid.Row="2" Grid.Column="1"
            Margin="10" VerticalAlignment="Center">

            <!-- 저장 경로 텍스트 박스 -->
            <TextBox x:Name="txtFilePath"
             Text="..."
             IsReadOnly="True"
             Height="30"
             Width="300"
             Background="#3B3F48"
             Foreground="White"
             BorderBrush="#5A5D66"
             BorderThickness="1"
             VerticalContentAlignment="Center"/>

            <!-- 덮어쓰기 체크박스 -->
            <CheckBox x:Name="chkOverwrite"
              Content="덮어쓰기"
              Margin="10,0,0,0"
              VerticalAlignment="Center"
              Foreground="White"
              IsChecked="True"/>
        </StackPanel>


    </Grid>
</UserControl>
